<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Rock Paper Scissors!</title>
        <script>
            function computerPlay() {
                let choice = getRandomInt(3);
                switch(choice) {
                    case 0:
                        return "rock";
                        break;
                    case 1:
                        return "paper";
                        break;
                    case 2:
                        return "scissors";
                        break;
                    default:
                    console.log("choice not found: " + choice);
                } 
                
            }

            function getRandomInt(max) {
                return Math.floor(Math.random() * Math.floor(max));
            }

            function convertSel(sel) {
                return sel.toUpperCase();
            }

            function playRPS(playerSelection, computerSelection) {
                let result = 0;
                let playerSel = convertSel(playerSelection);
                let computerSel = convertSel(computerSelection);
                console.log("PSel: " + playerSel + ", computerSel: " + computerSel);
                if (playerSel == "PAPER" && computerSel == "SCISSORS") {
                    result = 2;
                } else if (playerSel == "PAPER" && computerSel == "ROCK") {
                    result = 1;
                } else if (playerSel == "ROCK" && computerSel == "PAPER") {
                    result = 2;
                } else if (playerSel == "ROCK" && computerSel == "SCISSORS") {
                    result = 1;
                } else if (playerSel == "SCISSORS" && computerSel == "PAPER") {
                    result = 1;
                } else if (playerSel == "SCISSORS" && computerSel == "ROCK") {
                    result = 2;
                }
                return result;
                /*
                if (result) {
                    //return (`"You Win! ${ playerSel } beats ${ computerSel }"`);
                    return 1;
                }
                else {
                    return 0;
                    //return (`"You Lose! ${ computerSel } beats ${ playerSel }"`);
                }*/AbortController
            }

            function game() {
                //Play 5 rounds, log score, report winner at end
                let playerWon = 0;
                let computerWon = 0;
                for (i = 1; i <= 5; i++) {
                    let playChoice = prompt("Choice?");
                    gameResult = playRPS(playChoice, computerPlay());
                    if (gameResult == 1) {
                        playerWon++;
                        console.log("Player won");
                    } else if (gameResult == 2) {
                        console.log("Computer won");
                        computerWon++;
                    } else {
                        console.log("Tie");
                    }
                }
                let winner = "Tied";
                if (playerWon > computerWon) {
                    winner = "Player";
                } else if (computerWon > playerWon) {
                    winner = "Computer";
                }
                console.log("Winner: " + winner);
            }

        </script>
    </head>
    <body>

    </body>
</html>